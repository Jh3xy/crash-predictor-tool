
name = "bc-oracle-worker"
main = "src/worker-router.js"
compatibility_date = "2025-12-12"
compatibility_flags = [ "nodejs_compat" ]

# This section binds the Durable Object Class to the variable 'CRASH_ORACLE_DO'
[[durable_objects.bindings]]
name = "CRASH_ORACLE_DO"
class_name = "CrashOracleDO"

# This creates the namespace for the migration (required for storage)
[[migrations]]
tag = "v1"
new_sqlite_classes = ["CrashOracleDO"]

# NEW: Add a cron trigger (e.g., runs every hour)
[triggers]
# Runs at minute 0 of every 2nd hour (12:00, 2:00, 4:00...)
crons = ["0 */2 * * *"]

# NEW: Add Browser Binding
[browser]
binding = "MYBROWSER"

